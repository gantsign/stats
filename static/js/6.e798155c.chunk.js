(this.webpackJsonpstats=this.webpackJsonpstats||[]).push([[6],{247:function(t,e,s){"use strict";s.r(e);var a=s(203),o=s(4),r=s(240),n=s(246),i=s(241),c=s(242),p=s(233),h=s(226),d=s(250),l=s(243),u=s(251),j=s(65),m=s(176),b=s(191),x=s.n(b),y=s(192),v=s(0);const g=s(194),O=x()(g);class w extends o.Component{constructor(...t){super(...t),this.onResize=t=>{const e=t.bounds;e&&this.setState({width:e.width,height:e.height})}}render(){const t=this.props.repositoryName,e=this.props.variant,s="count"===e?"downloads_count":"downloads_delta",a="count"===e?"Download count":"Downloads / day",o=this.props.downloadsDf.where((e=>e.repository_name===t)).setIndex("data_at").subset([s]),r=[{x:o.getIndex().toArray(),y:o.getSeries(s).toArray(),type:"scatter"}];return Object(v.jsx)(y.a,{bounds:!0,onResize:this.onResize,children:({measureRef:e})=>{const s=this.state||{width:800,height:600},o={width:s.width,height:s.height,title:t,xaxis:{title:"Date"},yaxis:{title:a}};return Object(v.jsx)("div",{ref:e,style:{height:"100%"},children:Object(v.jsx)(O,{data:r,layout:o})})}})}}var C=w,N=s(15),f=s(195),D=s.n(f);function S(t){return Object(v.jsx)(r.a,Object(a.a)({direction:"up"},t))}class _ extends o.Component{constructor(...t){super(...t),this.repoChanged=t=>{const e=this.state;if(!e)return;const s=String(t.target.value),a=e.variant;this.setState({repositoryName:s,variant:a})},this.variantChanged=t=>{const e=this.state;if(!e)return;const s=e.repositoryName,a="count"===t.target.value?"count":"delta";this.setState({repositoryName:s,variant:a})}}componentDidMount(){this.setState({repositoryName:this.props.repositoryName,variant:"count"})}componentDidUpdate(t){t.repositoryName!==this.props.repositoryName&&this.setState({repositoryName:this.props.repositoryName,variant:"count"})}render(){const t=this.state;if(!t)return Object(v.jsx)(v.Fragment,{});const e=this.props.downloads,s=t.repositoryName||"",a=t.variant,o=new m.a({values:e}).parseDates(["data_at"]),r=o.getSeries("repository_name").distinct().toArray().sort(((t,e)=>{const s=t.replace("_","-"),a=e.replace("_","-");return s.localeCompare(a)})),j=this.props.open,b=this.props.classes;return Object(v.jsxs)(n.a,{open:j,fullScreen:!0,TransitionComponent:S,children:[Object(v.jsx)(i.a,{position:"static",children:Object(v.jsx)(c.a,{children:Object(v.jsxs)(p.a,{theme:N.a,children:[Object(v.jsx)(h.a,{"aria-label":"Close",className:b.closeButton,onClick:this.props.onClose,children:Object(v.jsx)(D.a,{})}),Object(v.jsx)(d.a,{htmlFor:"repo",children:"Repository"}),"\xa0",Object(v.jsx)(l.a,{value:s,onChange:this.repoChanged,inputProps:{name:"repo",id:"repo"},children:r.map((t=>Object(v.jsx)(u.a,{value:t,children:t},t)))}),"\xa0\xa0",Object(v.jsx)(d.a,{htmlFor:"variant",children:"View"}),"\xa0",Object(v.jsxs)(l.a,{value:a,onChange:this.variantChanged,inputProps:{name:"variant",id:"variant"},children:[Object(v.jsx)(u.a,{value:"count",children:"Download count"}),Object(v.jsx)(u.a,{value:"delta",children:"Downloads / day"})]})]})})}),s?Object(v.jsx)(C,{downloadsDf:o,repositoryName:s,variant:a}):Object(v.jsx)(v.Fragment,{})]})}}const R=Object(j.a)((t=>({closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1)}})))(_);e.default=R}}]);
//# sourceMappingURL=6.e798155c.chunk.js.map