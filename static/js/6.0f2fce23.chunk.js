(this.webpackJsonpstats=this.webpackJsonpstats||[]).push([[6],{239:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a(230),s=a(237),r=a(231),i=a(232),l=a(223),c=a(216),p=a(241),h=a(233),u=a(238),m=a(63),d=a(171),y=a(187),g=a.n(y),v=a(188);const E=a(190),w=g()(E);class C extends n.Component{constructor(...e){super(...e),this.onResize=e=>{const t=e.bounds;t&&this.setState({width:t.width,height:t.height})}}render(){const e=this.props.repositoryName,t=this.props.variant,a="count"===t?"downloads_count":"downloads_delta",o="count"===t?"Download count":"Downloads / day",s=this.props.downloadsDf.where(t=>t.repository_name===e).setIndex("data_at").subset([a]),r=[{x:s.getIndex().toArray(),y:s.getSeries(a).toArray(),type:"scatter"}];return n.createElement(v.a,{bounds:!0,onResize:this.onResize},({measureRef:t})=>{const a=this.state||{width:800,height:600},s={width:a.width,height:a.height,title:e,xaxis:{title:"Date"},yaxis:{title:o}};return n.createElement("div",{ref:t,style:{height:"100%"}},n.createElement(w,{data:r,layout:s}))})}}var N=C,f=a(13),D=a(191),b=a.n(D);function S(e){return n.createElement(o.a,Object.assign({direction:"up"},e))}class x extends n.Component{constructor(...e){super(...e),this.repoChanged=e=>{const t=this.state;if(!t)return;const a=String(e.target.value),n=t.variant;this.setState({repositoryName:a,variant:n})},this.variantChanged=e=>{const t=this.state;if(!t)return;const a=t.repositoryName,n="count"===e.target.value?"count":"delta";this.setState({repositoryName:a,variant:n})}}componentDidMount(){this.setState({repositoryName:this.props.repositoryName,variant:"count"})}componentDidUpdate(e){e.repositoryName!==this.props.repositoryName&&this.setState({repositoryName:this.props.repositoryName,variant:"count"})}render(){const e=this.state;if(!e)return n.createElement(n.Fragment,null);const t=this.props.downloads,a=e.repositoryName||"",o=e.variant,m=new d.a({values:t}).parseDates(["data_at"]),y=m.getSeries("repository_name").distinct().toArray().sort((e,t)=>{const a=e.replace("_","-"),n=t.replace("_","-");return a.localeCompare(n)}),g=this.props.open,v=this.props.classes;return n.createElement(s.a,{open:g,fullScreen:!0,TransitionComponent:S},n.createElement(r.a,{position:"static"},n.createElement(i.a,null,n.createElement(l.a,{theme:f.a},n.createElement(c.a,{"aria-label":"Close",className:v.closeButton,onClick:this.props.onClose},n.createElement(b.a,null)),n.createElement(p.a,{htmlFor:"repo"},"Repository"),"\xa0",n.createElement(h.a,{value:a,onChange:this.repoChanged,inputProps:{name:"repo",id:"repo"}},y.map(e=>n.createElement(u.a,{key:e,value:e},e))),"\xa0\xa0",n.createElement(p.a,{htmlFor:"variant"},"View"),"\xa0",n.createElement(h.a,{value:o,onChange:this.variantChanged,inputProps:{name:"variant",id:"variant"}},n.createElement(u.a,{value:"count"},"Download count"),n.createElement(u.a,{value:"delta"},"Downloads / day"))))),a?n.createElement(N,{downloadsDf:m,repositoryName:a,variant:o}):n.createElement(n.Fragment,null))}}const _=Object(m.a)(e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)}}))(x);t.default=_}}]);
//# sourceMappingURL=6.0f2fce23.chunk.js.map