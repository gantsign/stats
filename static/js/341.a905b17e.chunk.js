"use strict";(self.webpackChunkstats=self.webpackChunkstats||[]).push([[341],{7341:function(t,e,r){r.r(e),r.d(e,{default:function(){return R}});var n=r(7853),a=r(243),o=r(8932),i=r(2587),s=r(6515),u=r(2791),l=r(2262),p=r(3594),c=r(8167),h=r(7690),d=r(1795),v=r(7025),y=r(6168),f=r(5693),m=r(5471),x=r(5252),Z=r(2787),g=r(2067),w=r(9136),j=r(184),C=r(2572),N=(0,g.Z)(C),D=function(t){(0,o.Z)(r,t);var e=(0,i.Z)(r);function r(){var t;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).onResize=function(e){var r=e.bounds;r&&t.setState({width:r.width,height:r.height})},t}return(0,a.Z)(r,[{key:"render",value:function(){var t=this,e=this.props.repositoryName,r=this.props.variant,n="count"===r?"downloads_count":"downloads_delta",a="count"===r?"Download count":"Downloads / day",o=this.props.downloadsDf.where((function(t){return t.repository_name===e})).setIndex("data_at").subset([n]),i=[{x:o.getIndex().toArray(),y:o.getSeries(n).toArray(),type:"scatter"}];return(0,j.jsx)(w.Z,{bounds:!0,onResize:this.onResize,children:function(r){var n=r.measureRef,o=t.state||{width:800,height:600},s={width:o.width,height:o.height,title:e,xaxis:{title:"Date"},yaxis:{title:a}};return(0,j.jsx)("div",{ref:n,style:{height:"100%"},children:(0,j.jsx)(N,{data:i,layout:s})})}})}}]),r}(u.Component),k=D,S=r(6561),_=r(14);function b(t){return(0,j.jsx)(l.Z,(0,s.Z)({direction:"up"},t))}var A=function(t){(0,o.Z)(r,t);var e=(0,i.Z)(r);function r(){var t;(0,n.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).repoChanged=function(e){var r=t.state;if(r){var n=String(e.target.value),a=r.variant;t.setState({repositoryName:n,variant:a})}},t.variantChanged=function(e){var r=t.state;if(r){var n=r.repositoryName,a="count"===e.target.value?"count":"delta";t.setState({repositoryName:n,variant:a})}},t}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){this.setState({repositoryName:this.props.repositoryName,variant:"count"})}},{key:"componentDidUpdate",value:function(t){t.repositoryName!==this.props.repositoryName&&this.setState({repositoryName:this.props.repositoryName,variant:"count"})}},{key:"render",value:function(){var t=this.state;if(!t)return(0,j.jsx)(j.Fragment,{});var e=this.props.downloads,r=t.repositoryName||"",n=t.variant,a=new Z.NE({values:e}).parseDates(["data_at"]),o=a.getSeries("repository_name").distinct().toArray().sort((function(t,e){var r=t.replace("_","-"),n=e.replace("_","-");return r.localeCompare(n)})),i=this.props.open,s=this.props.classes;return(0,j.jsxs)(p.Z,{open:i,fullScreen:!0,TransitionComponent:b,children:[(0,j.jsx)(c.Z,{position:"static",children:(0,j.jsx)(h.Z,{children:(0,j.jsxs)(d.Z,{theme:S.$_,children:[(0,j.jsx)(v.Z,{"aria-label":"Close",className:s.closeButton,onClick:this.props.onClose,children:(0,j.jsx)(_.Z,{})}),(0,j.jsx)(y.Z,{htmlFor:"repo",children:"Repository"}),"\xa0",(0,j.jsx)(f.Z,{value:r,onChange:this.repoChanged,inputProps:{name:"repo",id:"repo"},children:o.map((function(t){return(0,j.jsx)(m.Z,{value:t,children:t},t)}))}),"\xa0\xa0",(0,j.jsx)(y.Z,{htmlFor:"variant",children:"View"}),"\xa0",(0,j.jsxs)(f.Z,{value:n,onChange:this.variantChanged,inputProps:{name:"variant",id:"variant"},children:[(0,j.jsx)(m.Z,{value:"count",children:"Download count"}),(0,j.jsx)(m.Z,{value:"delta",children:"Downloads / day"})]})]})})}),r?(0,j.jsx)(k,{downloadsDf:a,repositoryName:r,variant:n}):(0,j.jsx)(j.Fragment,{})]})}}]),r}(u.Component),R=(0,x.Z)((function(t){return{closeButton:{position:"absolute",right:t.spacing(1),top:t.spacing(1)}}}))(A)}}]);
//# sourceMappingURL=341.a905b17e.chunk.js.map